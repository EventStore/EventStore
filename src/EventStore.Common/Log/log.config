<?xml version="1.0" encoding="utf-8" ?>
<!-- Serilog Configuration -->
<configuration>
  <appSettings>
  <!-- Logging Levels: Verbose, Debug, Information, Warning, Error -->
    <!--
    <add key="serilog:enrich:with-property:Path" value="$EVENTSTORE_INT-COMPONENT-NAME" />
    <add key="serilog:using:Environment" value="Serilog.Enrichers.Environment" />
    -->


    <!--Standard Logger: Console and File -->
    <add key="std:serilog:minimum-level" value="Verbose" />
    <add key="std:serilog:using:Process" value="Serilog.Enrichers.Process" />
    <add key="std:serilog:enrich:WithProcessId"/>
    <add key="std:serilog:using:Thread" value="Serilog.Enrichers.Thread" />
    <add key="std:serilog:enrich:WithThreadId"/>
    <add key="std:serilog:enrich:with-property:fileName" value="%EVENTSTORE_INT-COMPONENT-NAME%"/>
    <add key="std:serilog:using:Console" value="Serilog.Sinks.Console" />
    <add key="std:serilog:write-to:Console.outputTemplate" value="[PID:{ProcessId},{ThreadId},{Timestamp:HH:mm:ss.fff}] {loglevel,-3:t3}] {Message:lj} {NewLine:l}{Exception}" />
    <add key="std:serilog:using:RollingFile" value="Serilog.Sinks.RollingFile" />
    <add key="std:serilog:write-to:RollingFile.outputTemplate" value="[PID:{ProcessId}:{ThreadId} {Timestamp:yyyy.MM.dd HH:mm:ss.fff} {loglevel}] {F}] {Message:lj} {NewLine:l}{Exception}" />
    <add key="std:serilog:write-to:RollingFile.pathFormat"  value="app.log" />
    <add key="std:serilog::Process" value="Serilog.Enrichers.Process" />
    <add key="std:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="std:serilog:filter:ByExcluding.expression" value="className='REGULAR-STATS-LOGGER'" />
    
     <!-- Stats Logger:  -->
    <add key="stats:serilog:using:RollingFile" value="Serilog.Sinks.RollingFile" />
    <add key="stats:serilog:write-to:RollingFile.pathFormat"  value="{logsdir}/stats.csv" />
    <add key="stats:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="stats:serilog:filter:ByIncludingOnly.expression" value="className='REGULAR-STATS-LOGGER'" />


    <!--Error and Fatal Logger: File only -->
    <add key="error:serilog:minimum-level" value="Error" />
    <add key="error:serilog:using:Process" value="Serilog.Enrichers.Process" />
    <add key="error:serilog:enrich:WithProcessId"/>
    <add key="error:serilog:using:Thread" value="Serilog.Enrichers.Thread" />
    <add key="error:serilog:enrich:WithThreadId"/>
    <add key="error:serilog:using:File" value="Serilog.Sinks.File" />
    <add key="error:serilog:write-to:RollingFile.pathFormat"  value="errorlog.log" />
    <add key="error:serilog:write-to:RollingFile.outputTemplate" value="[PID:{ProcessId}:{ThreadId} {Timestamp:yyyy.MM.dd HH:mm:ss.fff} {loglevel} {className}] {Message:lj} {NewLine:l}{Exception}" />
    <add key="error:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="error:serilog:filter:ByExcluding.expression" value="className='REGULAR-STATS-LOGGER'" />
    
    </appSettings>

</configuration>