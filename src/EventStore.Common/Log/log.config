<?xml version="1.0" encoding="utf-8" ?>
<!-- Serilog Configuration -->
<configuration>
  <appSettings>
    <!--Standard Logger: Console and File -->
    <add key="std:serilog:minimum-level" value="Verbose" />
    <add key="std:serilog:using:Process" value="Serilog.Enrichers.Process" />
    <add key="std:serilog:enrich:WithProcessId"/>
    <add key="std:serilog:using:Thread" value="Serilog.Enrichers.Thread" />
    <add key="std:serilog:enrich:WithThreadId"/>
    <add key="std:serilog:using:Console" value="Serilog.Sinks.Console" />
    <add key="std:serilog:write-to:Console.outputTemplate" value="[PID:{ProcessId:D5},{ThreadId:D3},{Timestamp:HH:mm:ss.fff}]  {loglevel,-5}] {Message:l} {NewLine:l}{Exception}" />
    <add key="std:serilog:using:RollingFile" value="Serilog.Sinks.RollingFile" />
    <add key="std:serilog:write-to:RollingFile.outputTemplate" value="[PID:{ProcessId:D5}:{ThreadId:D3} {Timestamp:yyyy.MM.dd HH:mm:ss.fff} {loglevel,-5} {className,-20}] {Message:l} {NewLine:l}{Exception}" />
    <add key="std:serilog:write-to:RollingFile.pathFormat"  value="%logsdir%/%EVENTSTORE_INT-COMPONENT-NAME%.log" />
    <add key="std:serilog:write-to:RollingFile.flushToDiskInterval" value="2" />
    <add key="std:serilog::Process" value="Serilog.Enrichers.Process" />
    <add key="std:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="std:serilog:filter:ByExcluding.expression" value="className='REGULAR-STATS-LOGGER'" />

     <!-- Stats Logger:  -->
    <add key="stats:serilog:using:RollingFile" value="Serilog.Sinks.RollingFile" />
    <add key="stats:serilog:write-to:RollingFile.pathFormat"  value="%logsdir%/%EVENTSTORE_INT-COMPONENT-NAME%-stats.csv" />
    <add key="stats:serilog:write-to:RollingFile.flushToDiskInterval" value="2" />
    <add key="stats:serilog:write-to:RollingFile.outputTemplate" value="{Message}" />
    <add key="stats:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="stats:serilog:filter:ByIncludingOnly.expression" value="className='REGULAR-STATS-LOGGER'" />

    <!--Error and Fatal Logger: File only -->
    <add key="error:serilog:minimum-level" value="Error" />
    <add key="error:serilog:using:Process" value="Serilog.Enrichers.Process" />
    <add key="error:serilog:enrich:WithProcessId"/>
    <add key="error:serilog:using:Thread" value="Serilog.Enrichers.Thread" />
    <add key="error:serilog:enrich:WithThreadId"/>
    <add key="error:serilog:using:RollingFile" value="Serilog.Sinks.RollingFile" />
    <add key="error:serilog:write-to:RollingFile.outputTemplate" value="[PID:{ProcessId:D5}:{ThreadId:D3} {Timestamp:yyyy.MM.dd HH:mm:ss.fff} {loglevel, -5} {className,-20}] {Message:l} {NewLine:l}{Exception}" />
    <add key="error:serilog:write-to:RollingFile.pathFormat"  value="%logsdir%/%EVENTSTORE_INT-COMPONENT-NAME%-error.log" />
    <add key="stats:serilog:write-to:RollingFile.flushToDiskInterval" value="2" />
    <add key="error:serilog:using:FilterExpressions" value="Serilog.Filters.Expressions"/>
    <add key="error:serilog:filter:ByExcluding.expression" value="className='REGULAR-STATS-LOGGER'" />

    </appSettings>

</configuration>